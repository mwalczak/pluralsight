{% extends "layout.twig" %}

{% block title %}Dev skills{% endblock %}
{% block content %}
    <h1>Devs</h1>
    <div class="users">
        <table id="skills" cellpadding="0" cellspacing="0">
            <thead>
                <tr>
                    <th>User</th>
                    {% for skill in order %}
                        <th title="{{ skill.title }}">{{ skill.title }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
            {% for user in userData %}
                <tr class="user">
                    <td><a href="{{ path_for('user', { 'id': user.id }) }}">{{ user.id }}</a></td>
                    {% for skill in user.skills %}
                        {% if skill.score %}
                            <td class="skill {{ skill.level | lower }}" data-completed="{{skill.dateCompleted | slice(0, 10)}}">{{ skill.score }}</td>
                        {% else %}
                            <td class="empty-skill"></td>
                        {% endif %}
                    {% endfor %}
                </tr>
            {% endfor %}
            </tbody>
            <tfoot>
            <tr>
                <th>Avg</th>
                {% for skillAvg in skillAvgs %}
                    <th>{{ skillAvg }}</th>
                {% endfor %}
            </tr>
            </tfoot>
        </table>
    </div>
{% endblock %}
